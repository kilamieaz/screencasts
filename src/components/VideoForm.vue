<template>
	<v-form v-model="valid">
		<v-text-field
			v-model="video.name"
			label="Name"
			counter="50"
			:rules="[required('name'), minLength('name', 5), maxLength('name', 50)]"
		/>
		<v-textarea
			v-model="video.description"
			label="Description"
			counter="true"
			:rules="[required('description'), minLength('description', 20)]"
		/>
		<v-text-field
			v-model="video.video_url"
			label="Video URL"
			hint="Use Amazon s3 or similiar instead of Youtube and vimeo"
			:rules="[required('video URL')]"
		/>
		<v-text-field
			v-model="video.thumbnail"
			label="Thumbnail URL"
			:rules="[required('thumbnail URL')]"
		/>
		<v-btn @click="saveVideo" :disabled="!valid">{{buttonText}}</v-btn>
	</v-form>
</template>

<script>
export default {
	data() {
		return {
			valid: false,
			required(propertyType) {
				return v => (v && v.length > 0) || `You must input a ${propertyType}`;
			},
			minLength(propertyType, minLength) {
				return v =>
					(v && v.length >= minLength) ||
					`${propertyType} must be at least ${minLength} characters`;
			},
			maxLength(propertyType, maxLength) {
				return v =>
					(v && v.length <= maxLength) ||
					`${propertyType} must be less than ${maxLength} characters`;
			}
		};
	},
	props: ["video", "saveVideo", "buttonText"]
};
</script>